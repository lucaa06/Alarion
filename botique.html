<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stile Unico Boutique - Anteprima</title>
        <link rel="shortcut icon" href="favicon.png" type="image/x-icon">

    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        body { font-family: 'Poppins', sans-serif; background-color: #ffffff; color: #111827; }
        .product-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        .product-card .add-to-cart {
            transform: translateY(20px);
            opacity: 0;
            transition: transform 0.3s ease, opacity 0.3s ease;
        }
        .product-card:hover .add-to-cart {
            transform: translateY(0);
            opacity: 1;
        }
        /* Modal styles */
        .modal {
            display: none; /* Hidden by default */
            position: fixed; /* Stay in place */
            z-index: 100; /* Sit on top */
            left: 0;
            top: 0;
            width: 100%; /* Full width */
            height: 100%; /* Full height */
            overflow: auto; /* Enable scroll if needed */
            background-color: rgba(0,0,0,0.6); /* Black w/ opacity */
            justify-content: center;
            align-items: center;
        }
        .modal-content {
            background-color: #fefefe;
            margin: auto;
            padding: 20px;
            border-radius: 8px;
            width: 90%;
            max-width: 800px;
            position: relative;
            animation: fadeIn 0.3s ease-out;
        }
        .close-button {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            position: absolute;
            top: 10px;
            right: 20px;
            cursor: pointer;
        }
        .close-button:hover,
        .close-button:focus {
            color: #000;
            text-decoration: none;
            cursor: pointer;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="antialiased">
    <!-- Header -->
    <header class="bg-white/90 backdrop-blur-lg fixed top-0 left-0 right-0 z-10 border-b">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="index.html" class="text-2xl font-bold tracking-tighter">Stile<span class="text-fuchsia-600">Unico</span></a>
            <nav class="hidden md:flex space-x-8 items-center font-medium">
                <a href="#new-arrivals" class="hover:text-fuchsia-600">Nuovi Arrivi</a>
                <a href="#products" class="hover:text-fuchsia-600">Abiti</a>
                <a href="#products" class="hover:text-fuchsia-600">Accessori</a>
                <a href="#products" class="hover:text-fuchsia-600">Saldi</a>
            </nav>
            <div class="flex items-center space-x-4">
                 <button id="cart-button" class="hover:text-fuchsia-600 relative">
                    <i data-lucide="shopping-bag" class="w-6 h-6"></i>
                    <span id="cart-count" class="absolute -top-2 -right-2 bg-fuchsia-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center">0</span>
                </button>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="pt-24 pb-12 bg-fuchsia-50">
        <div class="container mx-auto px-6 text-center">
            <h1 class="text-4xl md:text-5xl font-bold tracking-tight">Collezione Autunno/Inverno</h1>
            <p class="text-lg mt-3 text-gray-600">Scopri i nuovi trend e trova il tuo stile perfetto.</p>
            <a href="#products" class="mt-6 inline-block bg-fuchsia-600 hover:bg-fuchsia-700 text-white font-bold py-3 px-8 rounded-lg transition-colors">Acquista Ora</a>
        </div>
    </section>

    <!-- Prodotti in Evidenza -->
    <section id="products" class="py-20">
        <div class="container mx-auto px-6">
            <h2 class="text-3xl font-bold text-center mb-12">Prodotti in Evidenza</h2>
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8" id="product-list">
                <!-- Product 1 -->
                <div class="product-card group relative overflow-hidden rounded-lg shadow-md cursor-pointer" data-id="1" data-name="Abito da Sera" data-price="189.00" data-image="https://placehold.co/400x500/d946ef/ffffff?text=Abito+Elegante">
                    <img src="https://placehold.co/400x500/d946ef/ffffff?text=Abito+Elegante" alt="Abito elegante" class="w-full h-full object-cover transition-transform group-hover:scale-105 duration-300">
                    <div class="absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/60 to-transparent">
                        <h3 class="font-semibold text-white">Abito da Sera</h3>
                        <p class="text-gray-200 font-bold">€ 189.00</p>
                    </div>
                    <button class="add-to-cart absolute bottom-4 right-4 bg-white text-fuchsia-600 p-3 rounded-full shadow-lg">
                        <i data-lucide="plus"></i>
                    </button>
                </div>
                <!-- Product 2 -->
                <div class="product-card group relative overflow-hidden rounded-lg shadow-md cursor-pointer" data-id="2" data-name="Giacca Biker" data-price="249.00" data-image="https://placehold.co/400x500/c026d3/ffffff?text=Giacca+in+Pelle">
                    <img src="https://placehold.co/400x500/c026d3/ffffff?text=Giacca+in+Pelle" alt="Giacca in pelle" class="w-full h-full object-cover transition-transform group-hover:scale-105 duration-300">
                     <div class="absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/60 to-transparent">
                        <h3 class="font-semibold text-white">Giacca Biker</h3>
                        <p class="text-gray-200 font-bold">€ 249.00</p>
                    </div>
                     <button class="add-to-cart absolute bottom-4 right-4 bg-white text-fuchsia-600 p-3 rounded-full shadow-lg">
                        <i data-lucide="plus"></i>
                    </button>
                </div>
                <!-- Product 3 -->
                <div class="product-card group relative overflow-hidden rounded-lg shadow-md cursor-pointer" data-id="3" data-name="Borsa a Tracolla" data-price="120.00" data-image="https://placehold.co/400x500/a21caf/ffffff?text=Borsa+a+Mano">
                    <img src="https://placehold.co/400x500/a21caf/ffffff?text=Borsa+a+Mano" alt="Borsa a mano" class="w-full h-full object-cover transition-transform group-hover:scale-105 duration-300">
                     <div class="absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/60 to-transparent">
                        <h3 class="font-semibold text-white">Borsa a Tracolla</h3>
                        <p class="text-gray-200 font-bold">€ 120.00</p>
                    </div>
                     <button class="add-to-cart absolute bottom-4 right-4 bg-white text-fuchsia-600 p-3 rounded-full shadow-lg">
                        <i data-lucide="plus"></i>
                    </button>
                </div>
                <!-- Product 4 -->
                <div class="product-card group relative overflow-hidden rounded-lg shadow-md cursor-pointer" data-id="4" data-name="Stivaletti in Camoscio" data-price="159.00" data-image="https://placehold.co/400x500/86198f/ffffff?text=Stivali">
                    <img src="https://placehold.co/400x500/86198f/ffffff?text=Stivali" alt="Stivali" class="w-full h-full object-cover transition-transform group-hover:scale-105 duration-300">
                     <div class="absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/60 to-transparent">
                        <h3 class="font-semibold text-white">Stivaletti in Camoscio</h3>
                        <p class="text-gray-200 font-bold">€ 159.00</p>
                    </div>
                     <button class="add-to-cart absolute bottom-4 right-4 bg-white text-fuchsia-600 p-3 rounded-full shadow-lg">
                        <i data-lucide="plus"></i>
                    </button>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Newsletter -->
    <section class="py-20 bg-gray-100">
        <div class="container mx-auto px-6 text-center max-w-2xl">
            <h2 class="text-3xl font-bold">Iscriviti alla nostra Newsletter</h2>
            <p class="mt-2 text-gray-600">Ricevi sconti esclusivi, anteprime e consigli di stile direttamente nella tua casella di posta.</p>
            <form class="mt-6 flex flex-col sm:flex-row gap-3">
                <input type="email" placeholder="La tua email" class="w-full flex-grow border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-fuchsia-500 outline-none">
                <button type="submit" class="bg-fuchsia-600 hover:bg-fuchsia-700 text-white font-bold py-3 px-6 rounded-lg transition-colors">Iscriviti</button>
            </form>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-900 text-gray-400 py-12">
        <div class="container mx-auto px-6 text-center">
            <a href="index.html" class="text-sm hover:text-white">&larr; Sito realizzato da Alarion</a>
            <p class="mt-4 text-sm">&copy; 2025 Stile Unico Boutique. Tutti i diritti riservati.</p>
        </div>
    </footer>

    <!-- Product Detail Modal -->
    <div id="product-modal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <div class="flex flex-col md:flex-row gap-8">
                <div class="md:w-1/2">
                    <img id="modal-product-image" src="" alt="Product Image" class="w-full h-auto rounded-lg">
                </div>
                <div class="md:w-1/2">
                    <h2 id="modal-product-name" class="text-3xl font-bold mb-4"></h2>
                    <p id="modal-product-price" class="text-2xl font-bold text-fuchsia-600 mb-6"></p>
                    <p class="text-gray-700 mb-6">
                        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
                    </p>
                    <div class="flex items-center space-x-4 mb-6">
                        <label for="quantity" class="font-semibold">Quantità:</label>
                        <input type="number" id="modal-product-quantity" value="1" min="1" class="w-20 border border-gray-300 rounded-lg px-3 py-2 text-center">
                    </div>
                    <button id="modal-add-to-cart" class="bg-fuchsia-600 hover:bg-fuchsia-700 text-white font-bold py-3 px-6 rounded-lg transition-colors w-full flex items-center justify-center">
                        <i data-lucide="shopping-bag" class="w-5 h-5 mr-2"></i> Aggiungi al Carrello
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Shopping Cart Modal -->
    <div id="cart-modal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2 class="text-3xl font-bold mb-6">Il tuo Carrello</h2>
            <div id="cart-items" class="space-y-4 mb-6">
                <!-- Cart items will be loaded here -->
                <p class="text-gray-600" id="empty-cart-message">Il carrello è vuoto.</p>
            </div>
            <div class="flex justify-between items-center border-t pt-4">
                <span class="text-xl font-bold">Totale: <span id="cart-total">€ 0.00</span></span>
                <button id="checkout-button" class="bg-fuchsia-600 hover:bg-fuchsia-700 text-white font-bold py-3 px-6 rounded-lg transition-colors">
                    Procedi al Checkout
                </button>
            </div>
        </div>
    </div>

    <!-- Checkout Modal -->
    <div id="checkout-modal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2 class="text-3xl font-bold mb-6">Checkout</h2>
            <form id="checkout-form" class="space-y-4">
                <div>
                    <label for="checkout-name" class="block text-sm font-medium text-gray-700">Nome Completo</label>
                    <input type="text" id="checkout-name" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-fuchsia-500 focus:border-fuchsia-500">
                </div>
                <div>
                    <label for="checkout-email" class="block text-sm font-medium text-gray-700">Email</label>
                    <input type="email" id="checkout-email" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-fuchsia-500 focus:border-fuchsia-500">
                </div>
                <div>
                    <label for="checkout-address" class="block text-sm font-medium text-gray-700">Indirizzo</label>
                    <input type="text" id="checkout-address" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-fuchsia-500 focus:border-fuchsia-500">
                </div>
                <div>
                    <label for="checkout-city" class="block text-sm font-medium text-gray-700">Città</label>
                    <input type="text" id="checkout-city" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-fuchsia-500 focus:border-fuchsia-500">
                </div>
                <div>
                    <label for="checkout-zip" class="block text-sm font-medium text-gray-700">CAP</label>
                    <input type="text" id="checkout-zip" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-fuchsia-500 focus:border-fuchsia-500">
                </div>
                <button type="submit" class="bg-fuchsia-600 hover:bg-fuchsia-700 text-white font-bold py-3 px-6 rounded-lg transition-colors w-full">
                    Completa Ordine
                </button>
            </form>
        </div>
    </div>

    <script>
        lucide.createIcons();

        let cart = []; // Global cart array

        const productModal = document.getElementById('product-modal');
        const cartModal = document.getElementById('cart-modal');
        const checkoutModal = document.getElementById('checkout-modal');

        const productList = document.getElementById('product-list');
        const cartButton = document.getElementById('cart-button');
        const cartCount = document.getElementById('cart-count');
        const cartItemsContainer = document.getElementById('cart-items');
        const cartTotalSpan = document.getElementById('cart-total');
        const checkoutButton = document.getElementById('checkout-button');
        const checkoutForm = document.getElementById('checkout-form');

        // Close buttons for all modals
        document.querySelectorAll('.close-button').forEach(button => {
            button.addEventListener('click', () => {
                productModal.style.display = 'none';
                cartModal.style.display = 'none';
                checkoutModal.style.display = 'none';
            });
        });

        // Close modal when clicking outside of it
        window.addEventListener('click', (event) => {
            if (event.target == productModal) productModal.style.display = 'none';
            if (event.target == cartModal) cartModal.style.display = 'none';
            if (event.target == checkoutModal) checkoutModal.style.display = 'none';
        });

        // Open product detail modal
        productList.addEventListener('click', (event) => {
            const productCard = event.target.closest('.product-card');
            if (productCard && !event.target.closest('.add-to-cart')) { // Don't open modal if add to cart button is clicked
                const productId = productCard.dataset.id;
                const productName = productCard.dataset.name;
                const productPrice = parseFloat(productCard.dataset.price);
                const productImage = productCard.dataset.image;

                document.getElementById('modal-product-image').src = productImage;
                document.getElementById('modal-product-name').textContent = productName;
                document.getElementById('modal-product-price').textContent = `€ ${productPrice.toFixed(2)}`;
                document.getElementById('modal-product-quantity').value = 1; // Reset quantity
                document.getElementById('modal-add-to-cart').dataset.id = productId;
                document.getElementById('modal-add-to-cart').dataset.name = productName;
                document.getElementById('modal-add-to-cart').dataset.price = productPrice;

                productModal.style.display = 'flex'; // Use flex to center content
            }
        });

        // Add to cart from product list or modal
        document.addEventListener('click', (event) => {
            if (event.target.closest('.add-to-cart') || event.target.id === 'modal-add-to-cart') {
                const button = event.target.closest('.add-to-cart') || event.target;
                const productId = button.dataset.id;
                const productName = button.dataset.name;
                const productPrice = parseFloat(button.dataset.price);
                const quantity = parseInt(document.getElementById('modal-product-quantity')?.value || 1);

                const existingItem = cart.find(item => item.id === productId);

                if (existingItem) {
                    existingItem.quantity += quantity;
                } else {
                    cart.push({ id: productId, name: productName, price: productPrice, quantity: quantity });
                }
                
                updateCartUI();
                productModal.style.display = 'none'; // Close product modal after adding to cart
            }
        });

        // Open cart modal
        cartButton.addEventListener('click', () => {
            updateCartUI();
            cartModal.style.display = 'flex';
        });

        // Update cart UI
        function updateCartUI() {
            cartItemsContainer.innerHTML = '';
            let total = 0;

            if (cart.length === 0) {
                cartItemsContainer.innerHTML = '<p class="text-gray-600" id="empty-cart-message">Il carrello è vuoto.</p>';
            } else {
                cart.forEach(item => {
                    const itemTotal = item.price * item.quantity;
                    total += itemTotal;
                    const itemElement = document.createElement('div');
                    itemElement.classList.add('flex', 'justify-between', 'items-center', 'py-2', 'border-b', 'border-gray-200');
                    itemElement.innerHTML = `
                        <span>${item.name} x ${item.quantity}</span>
                        <span>€ ${(itemTotal).toFixed(2)}</span>
                        <button class="remove-from-cart text-red-500 hover:text-red-700" data-id="${item.id}">
                            <i data-lucide="trash-2" class="w-5 h-5"></i>
                        </button>
                    `;
                    cartItemsContainer.appendChild(itemElement);
                });
                lucide.createIcons(); // Re-render lucide icons for new elements
            }
            cartTotalSpan.textContent = `€ ${total.toFixed(2)}`;
            cartCount.textContent = cart.reduce((sum, item) => sum + item.quantity, 0);
        }

        // Remove item from cart
        cartItemsContainer.addEventListener('click', (event) => {
            if (event.target.closest('.remove-from-cart')) {
                const productIdToRemove = event.target.closest('.remove-from-cart').dataset.id;
                cart = cart.filter(item => item.id !== productIdToRemove);
                updateCartUI();
            }
        });

        // Open checkout modal
        checkoutButton.addEventListener('click', () => {
            if (cart.length === 0) {
                // Instead of alert, display a message within the modal or a temporary toast
                const messageDiv = document.createElement('div');
                messageDiv.textContent = "Il carrello è vuoto! Aggiungi prodotti prima di procedere al checkout.";
                messageDiv.classList.add('bg-red-100', 'border', 'border-red-400', 'text-red-700', 'px-4', 'py-3', 'rounded', 'relative', 'mb-4');
                cartModal.querySelector('.modal-content').prepend(messageDiv);
                setTimeout(() => messageDiv.remove(), 3000); // Remove message after 3 seconds
                return;
            }
            cartModal.style.display = 'none';
            checkoutModal.style.display = 'flex';
        });

        // Handle checkout form submission
        checkoutForm.addEventListener('submit', (event) => {
            event.preventDefault();
            // In a real application, you would send this data to a server for processing payment
            // For this example, we'll just clear the cart and show a success message.
            cart = [];
            updateCartUI();
            checkoutModal.style.display = 'none';

            // Show a success message (could be a new modal or a temporary toast)
            const successMessage = document.createElement('div');
            successMessage.classList.add('fixed', 'top-1/2', 'left-1/2', '-translate-x-1/2', '-translate-y-1/2', 'bg-green-500', 'text-white', 'px-6', 'py-4', 'rounded-lg', 'shadow-lg', 'z-20');
            successMessage.textContent = 'Ordine completato con successo! Grazie per il tuo acquisto.';
            document.body.appendChild(successMessage);
            setTimeout(() => successMessage.remove(), 3000); // Remove message after 3 seconds
        });

        // Initial cart UI update
        updateCartUI();
    </script>
</body>
</html>
